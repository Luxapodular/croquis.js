(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"1P4O":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("tY8R"),o=n("tY8R");function a(t,e,n){return{getConfig:function(r){return r&&r!==t?n.targetDrawingContext.getConfig(r):e},getState:function(e){return e&&e!==t?n.targetDrawingContext.getState(e):n},move:function(t){var e=n.stylusStates[0];o.copyStylusState(e,t)},up:function(t){var r=n.stylusStates[0],a=n.stylusStates[n.stylusStates.length-1];if(o.copyStylusState(r,t),e.catchUp){var i=void 0,s=void 0;do{n.update(),i=a.x-r.x|0,s=a.y-r.y|0}while(i||s)}return n.targetDrawingContext.up(a)}}}e.defaultSnakeConfig={tailCount:3,weight:.5,catchUp:!0},e.getStroke=function(t){var e={resume:function(t,n){var o=t.tailCount+1-n.stylusStates.length;if(o>0){var i=n.stylusStates[n.stylusStates.length-1];n.stylusStates=n.stylusStates.concat(r.createStylusStates(o,i))}else o<0&&(n.stylusStates.length-=o);return a(e,t,n)},down:function(n,i){var s=r.createStylusStates(n.tailCount+1,i),u=s[s.length-1],c={targetDrawingContext:t.down(n.targetConfig,i),stylusStates:s,update:function(){for(var t=1-Math.min(.95,Math.max(0,n.weight)),e=1;e<s.length;++e){var r=s[e],a=s[e-1];o.interpolateStylusState(r,a,t)}c.targetDrawingContext.move(u)}};return a(e,n,c)}};return e}},"3YkL":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/stabilizer-snake",function(){return n("l3fO")}])},"9e28":function(t,e,n){"use strict";var r=n("ERkP");var o=n.n(r).a.createElement;e.a=function(t){var e=t.drawing,n=function(){var t=Object(r.useState)("en"),e=t[0],n=t[1];return Object(r.useEffect)((function(){n(navigator.language)}),[]),e}();return o("h1",{style:{position:"absolute",top:"50%",left:"50%",margin:0,width:"100%",textAlign:"center",fontSize:"50px",transform:"translate(-50%, -50%)",opacity:e?0:1,transition:"opacity 0.3s",pointerEvents:"none",userSelect:"none"}},n.startsWith("ko")?"\uadf8\ub824\ubcf4\uc138\uc694":"draw")}},Ek2b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("tY8R"),o=n("qduK");function a(t,e,n){return{getConfig:function(n){if(!n||n===t)return e;throw void 0},getState:function(e){if(!e||e===t)return n;throw void 0},move:function(t){var o=i(n.prev,e.size),a=i(t,e.size);s(e.ctx,o,a),r.copyStylusState(n.prev,t)},up:function(t){var o=i(n.prev,e.size),a=i(t,e.size);return s(e.ctx,o,a),r.copyStylusState(n.prev,t),{}}}}function i(t,e){return{x:t.x,y:t.y,r:t.pressure*e*.5}}function s(t,e,n){var r=e.r>n.r,o=r?e:n,a=r?n:e,i=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));if(o.r>a.r+i)return u(t,o);o.r===a.r?function(t,e,n){u(t,e),u(t,n);var r=Math.atan2(n.y-e.y,n.x-e.x),o=r-c,a=r+c,i=Math.cos(o)*n.r,s=Math.sin(o)*n.r,l=Math.cos(a)*n.r,f=Math.sin(a)*n.r;t.beginPath(),t.moveTo(n.x+i,n.y+s),t.lineTo(e.x+i,e.y+s),t.lineTo(e.x+l,e.y+f),t.lineTo(n.x+l,n.y+f),t.closePath(),t.fill()}(t,o,a):function(t,e,n){u(t,e),u(t,n);var r=n.x-e.x||1e-9,o=n.y-e.y,a=e.r-n.r,i=a*a,s=r*r,c=r*r*r,l=o*o,f=(0===r?e.r:(o*Math.sqrt(i*s*(-i+s+l))+i*s)/(c+r*l))+e.x,g=(i*o-Math.sqrt(i*s*(-i+s+l)))/(s+l)+e.y,v=(0===r?-e.r:(-o*Math.sqrt(i*s*(-i+s+l))+i*s)/(c+r*l))+e.x,h=(i*o+Math.sqrt(i*s*(-i+s+l)))/(s+l)+e.y,p=Math.atan2(g-e.y,f-e.x),d=Math.atan2(h-e.y,v-e.x),y=Math.cos(p)*n.r,b=Math.sin(p)*n.r,w=Math.cos(d)*n.r,O=Math.sin(d)*n.r;t.beginPath(),t.moveTo(n.x+y,n.y+b),t.lineTo(f+y,g+b),t.lineTo(v+w,h+O),t.lineTo(n.x+w,n.y+O),t.closePath(),t.fill()}(t,o,a)}function u(t,e){t.beginPath(),t.moveTo(e.x+e.r,e.y),t.arc(e.x,e.y,e.r,0,2*Math.PI),t.closePath(),t.fill()}e.defaultBrushConfig=Object.freeze({ctx:o.dummyCanvasContext,color:"#000",size:10}),e.stroke={resume:function(t,n){return a(e.stroke,t,n)},down:function(t,n){var o={prev:r.cloneStylusState(n)},s=a(e.stroke,t,o);return n.pressure<=0?s:(u(t.ctx,i(n,t.size)),s)}};var c=Math.PI/2},Mp5o:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("ERkP");function o(){var t=Object(r.useState)(0)[1],e={cnt:0,fn:function(){return t(++e.cnt)}};return Object(r.useRef)(e).current.fn}},RZvK:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("ERkP");function o(){var t=Object(r.useState)({width:0,height:0}),e=t[0],n=t[1];return Object(r.useEffect)((function(){var t=function(){return n({width:window.innerWidth,height:window.innerHeight})};t(),window.addEventListener("resize",t)}),[]),e}},hO0T:function(t,e,n){"use strict";var r=n("cxan"),o=n("zjfJ"),a=n("HbGN"),i=n("ERkP"),s=n.n(i).a.createElement;function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a=function(t){var e=t.brushSize,n=t.stylusStates,o=t.style,i=Object(a.a)(t,["brushSize","stylusStates","style"]),u=n.map((function(t){return t.x+","+t.y})).join(" ");return s("svg",Object(r.a)({},i,{style:c({},o,{overflow:"visible",pointerEvents:"none",userSelect:"none"})}),s("polyline",{points:u,fill:"none",stroke:"white",strokeWidth:8,strokeLinecap:"round"}),n.map((function(t,n){var r=t.x,o=t.y,a=t.pressure;return s("circle",{key:n,r:e*a*.5,cx:r,cy:o,fill:"none",stroke:"white",strokeWidth:8})})),s("polyline",{points:u,fill:"none",stroke:"red",strokeWidth:4,strokeLinecap:"round"}),n.map((function(t,n){var r=t.x,o=t.y,a=t.pressure;return s("circle",{key:n,r:e*a*.5,cx:r,cy:o,fill:"none",stroke:"red",strokeWidth:4})})))}},l3fO:function(t,e,n){"use strict";n.r(e);var r=n("zjfJ"),o=n("ERkP"),a=n.n(o),i=n("Ek2b"),s=n("1P4O"),u=n("tY8R"),c=n("hO0T"),l=n("9e28"),f=n("Y6Yo"),g=n("l9U3"),v=n("RZvK"),h=n("Mp5o"),p=a.a.createElement;function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var b=Object(s.getStroke)(i.stroke);e.default=function(){var t=Object(o.useRef)(null);Object(g.a)(t);var e=Object(v.a)(),n=Object(o.useState)(),r=n[0],c=n[1];Object(o.useEffect)((function(){if(null===r||void 0===r?void 0:r.getState().update){var t=setInterval(r.getState().update,10);return function(){return clearInterval(t)}}}),[r]);return Object(o.useEffect)((function(){if(r){var t=function(t){var e=Object(u.getStylusState)(t);r.move(e)},e=function(t){var e=Object(u.getStylusState)(t);r.up(e),c(void 0)};return window.addEventListener("pointermove",t),window.addEventListener("pointerup",e),function(){window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",e)}}}),[r]),p(a.a.Fragment,null,p("canvas",{ref:t,onPointerDown:function(e){var n=t.current.getContext("2d"),r=Object(u.getStylusState)(e.nativeEvent),o=y({},i.defaultBrushConfig,{ctx:n,size:20}),a=b.down(y({},s.defaultSnakeConfig,{targetConfig:o}),r);c(a)},width:e.width,height:e.height,style:{position:"absolute",top:0,left:0,touchAction:"none"}}),p(O,{drawingPhase:r}),p(l.a,{drawing:!!r}),p(f.a,{bannerColor:"#000",octoColor:"#fff",href:"https://github.com/disjukr/croquis.js/blob/master/packages/website/src/pages/example/stabilizer-snake.tsx"}))};var w=Object(u.createStylusState)(),O=function(t){var e=Object(o.useState)(w),n=(e[0],e[1]),r=Object(h.a)();return Object(o.useEffect)((function(){var t=function(t){return n(Object(u.getStylusState)(t))},e=setInterval(r,10);return window.addEventListener("pointermove",t),function(){clearInterval(e),window.removeEventListener("pointermove",t)}}),[]),t.drawingPhase?p(c.a,{brushSize:t.drawingPhase.getConfig(i.stroke).size,stylusStates:t.drawingPhase.getState().stylusStates,style:{position:"absolute",top:0,left:0}}):null}},l9U3:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("ERkP");function o(t){Object(r.useEffect)((function(){var e=setInterval((function(){var e=t.current;if(e){var n=e.getContext("2d");n.save(),n.globalCompositeOperation="destination-out",n.fillStyle="rgba(0, 0, 0, 0.05)",n.fillRect(0,0,e.width,e.height),n.restore()}}),50);return function(){return clearInterval(e)}}),[])}},qduK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){};e.dummyCanvasContext={canvas:{},direction:"ltr",fillStyle:"#000000",filter:"none",font:"10px sans-serif",globalAlpha:1,globalCompositeOperation:"source-over",imageSmoothingEnabled:!0,imageSmoothingQuality:"low",lineCap:"butt",lineDashOffset:0,lineJoin:"miter",lineWidth:1,miterLimit:10,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0)",shadowOffsetX:0,shadowOffsetY:0,strokeStyle:"#000000",textAlign:"start",textBaseline:"alphabetic",save:r,restore:r,scale:r,rotate:r,translate:r,transform:r,setTransform:r,getTransform:function(){return new DOMMatrix},resetTransform:r,createLinearGradient:function(){return{addColorStop:r}},createRadialGradient:function(){return{addColorStop:r}},createPattern:function(){return null},clearRect:r,fillRect:r,strokeRect:r,beginPath:r,fill:r,stroke:r,drawFocusIfNeeded:r,scrollPathIntoView:r,clip:r,isPointInPath:function(){return!1},isPointInStroke:function(){return!1},fillText:r,strokeText:r,measureText:function(){return{actualBoundingBoxAscent:0,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:0,alphabeticBaseline:0,emHeightAscent:0,emHeightDescent:0,fontBoundingBoxAscent:0,fontBoundingBoxDescent:0,hangingBaseline:0,ideographicBaseline:0,width:0}},drawImage:r,getImageData:function(){return new ImageData(1,1)},putImageData:r,createImageData:function(){return new ImageData(1,1)},setLineDash:r,getLineDash:function(){return[]},closePath:r,moveTo:r,lineTo:r,quadraticCurveTo:r,bezierCurveTo:r,arcTo:r,rect:r,arc:r,ellipse:r}}},[["3YkL",0,1,2]]]);