(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"+Ri0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("tY8R");function o(e,t,r){return{getConfig:function(n){return n&&n!==e?r.targetDrawingContext.getConfig(n):t},getState:function(t){return t&&t!==e?r.targetDrawingContext.getState(t):r},move:function(e){var o=t.stringLength,i=r.follower.x,a=r.follower.y,c=e.x-i,s=e.y-a,u=Math.sqrt(c*c+s*s);if(n.copyStylusState(r.follower,e),u>o){var l=Math.min((u-o)/o,1);r.follower.x=i+c*l,r.follower.y=a+s*l}else r.follower.x=i,r.follower.y=a;r.targetDrawingContext.move(r.follower)},up:r.targetDrawingContext.up}}t.defaultPulledStringConfig={stringLength:50},t.getStroke=function(e){var t={resume:function(e,r){return o(t,e,r)},down:function(r,i){var a={targetDrawingContext:e.down(r.targetConfig,i),follower:n.cloneStylusState(i)};return o(t,r,a)}};return t},t.getGuidePathData=function(e,t,r,n,o){var i=e-r,a=t-n,c=Math.sqrt(i*i+a*a);return c>=o?"M"+r+","+n+"L"+e+","+t:"M"+r+","+n+"Q"+(r+.5*(e-r))+","+(n+.5*(t-n)+(o-c))+" "+e+","+t}},"F+sN":function(e,t,r){"use strict";r.r(t);var n=r("zjfJ"),o=r("ERkP"),i=r.n(o),a=r("Ek2b"),c=r("+Ri0"),s=r("tY8R"),u=r("oamW"),l=r("9e28"),f=r("Y6Yo"),g=r("XwAw"),p=r("l9U3"),b=r("RZvK"),w=r("Mp5o"),d=i.a.createElement;function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var O=Object(c.getStroke)(a.stroke);t.default=function(){var e=Object(o.useRef)(null);Object(p.a)(e);var t=Object(b.a)(),r=Object(o.useState)(),c=r[0],u=r[1],w=Object(o.useState)((function(){return{brushSize:40,stringLength:200}})),h=w[0],j=w[1];Object(o.useEffect)((function(){if(null===c||void 0===c?void 0:c.getState().update){var e=setInterval(c.getState().update,10);return function(){return clearInterval(e)}}}),[c]);return Object(o.useEffect)((function(){if(c){var e=function(e){var t=Object(s.getStylusState)(e);c.move(t)},t=function(e){var t=Object(s.getStylusState)(e);c.up(t),u(void 0)};return window.addEventListener("pointermove",e),window.addEventListener("pointerup",t),function(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",t)}}}),[c]),d(i.a.Fragment,null,d("canvas",{ref:e,onPointerDown:function(t){var r=e.current.getContext("2d"),o=Object(s.getStylusState)(t.nativeEvent),i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},a.defaultBrushConfig,{ctx:r,size:h.brushSize}),c=O.down({stringLength:h.stringLength,targetConfig:i},o);u(c)},width:t.width,height:t.height,style:{position:"absolute",top:0,left:0,touchAction:"none"}}),d(y,{drawingPhase:c}),d(l.a,{drawing:!!c}),d(f.a,{bannerColor:"#000",octoColor:"#fff",href:"https://github.com/disjukr/croquis.js/blob/master/packages/website/src/pages/example/stabilizer-pulled-string.tsx"}),d(g.a,{className:"data-controller",data:h,setData:j,config:{brushSize:{label:"Brush Size",type:"range",min:0,max:100,step:1},stringLength:{label:"String Length",type:"range",min:0,max:200,step:1}}}))};var h=Object(s.createStylusState)(),y=function(e){var t=Object(o.useState)(h),r=t[0],n=t[1],i=Object(w.a)();return Object(o.useEffect)((function(){var e=function(e){return n(Object(s.getStylusState)(e))},t=setInterval(i,10);return window.addEventListener("pointermove",e),function(){clearInterval(t),window.removeEventListener("pointermove",e)}}),[]),e.drawingPhase?d(u.a,{brushSize:e.drawingPhase.getConfig(a.stroke).size,stylusState:r,follower:e.drawingPhase.getState().follower,stringLength:e.drawingPhase.getConfig().stringLength,style:{position:"absolute",top:0,left:0}}):null}},Mp5o:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("ERkP");function o(){var e=Object(n.useState)(0)[1],t={cnt:0,fn:function(){return e(++t.cnt)}};return Object(n.useRef)(t).current.fn}},oamW:function(e,t,r){"use strict";var n=r("cxan"),o=r("zjfJ"),i=r("HbGN"),a=r("ERkP"),c=r.n(a),s=r("+Ri0"),u=c.a.createElement;function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.brushSize,r=e.stylusState,o=e.follower,a=e.stringLength,c=e.style,l=Object(i.a)(e,["brushSize","stylusState","follower","stringLength","style"]),g=Object(s.getGuidePathData)(r.x,r.y,o.x,o.y,a);return u("svg",Object(n.a)({},l,{style:f({},c,{overflow:"visible",pointerEvents:"none",userSelect:"none"})}),u("path",{d:g,fill:"none",stroke:"white",strokeWidth:8,strokeLinecap:"round"}),u("circle",{r:t*r.pressure*.5,cx:r.x,cy:r.y,fill:"none",stroke:"white",strokeWidth:8}),u("path",{d:g,fill:"none",stroke:"red",strokeWidth:4,strokeLinecap:"round"}),u("circle",{r:t*r.pressure*.5,cx:r.x,cy:r.y,fill:"none",stroke:"red",strokeWidth:4}),u("circle",{r:a,cx:o.x,cy:o.y,fill:"none",stroke:"red",strokeWidth:1}))}},xOXI:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/stabilizer-pulled-string",function(){return r("F+sN")}])}},[["xOXI",0,1,2,3]]]);