(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"1P4O":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("tY8R"),a=n("tY8R");function o(t,e,n){return{getConfig:function(r){return r&&r!==t?n.targetDrawingContext.getConfig(r):e},getState:function(e){return e&&e!==t?n.targetDrawingContext.getState(e):n},move:function(t){var e=n.stylusStates[0];a.copyStylusState(e,t)},up:function(t){var r=n.stylusStates[0],o=n.stylusStates[n.stylusStates.length-1];if(a.copyStylusState(r,t),e.catchUp){var i=void 0,s=void 0;do{n.update(),i=o.x-r.x|0,s=o.y-r.y|0}while(i||s)}return n.targetDrawingContext.up(o)}}}e.defaultSnakeConfig={tailCount:3,weight:.5,catchUp:!0},e.getStroke=function(t){var e={resume:function(t,n){var a=t.tailCount+1-n.stylusStates.length;if(a>0){var i=n.stylusStates[n.stylusStates.length-1];n.stylusStates=n.stylusStates.concat(r.createStylusStates(a,i))}else a<0&&(n.stylusStates.length-=a);return o(e,t,n)},down:function(n,i){var s=r.createStylusStates(n.tailCount+1,i),c=s[s.length-1],u={targetDrawingContext:t.down(n.targetConfig,i),stylusStates:s,update:function(){for(var t=1-Math.min(.95,Math.max(0,n.weight)),e=1;e<s.length;++e){var r=s[e],o=s[e-1];a.interpolateStylusState(r,o,t)}u.targetDrawingContext.move(c)}};return o(e,n,u)}};return e}},"3YkL":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/stabilizer-snake",function(){return n("l3fO")}])},"9e28":function(t,e,n){"use strict";var r=n("ERkP");var a=n.n(r).a.createElement;e.a=function(t){var e=t.drawing,n=function(){var t=Object(r.useState)("en"),e=t[0],n=t[1];return Object(r.useEffect)((function(){n(navigator.language)}),[]),e}();return a("h1",{style:{position:"absolute",top:"50%",left:"50%",margin:0,width:"100%",textAlign:"center",fontSize:"50px",transform:"translate(-50%, -50%)",opacity:e?0:1,transition:"opacity 0.3s",pointerEvents:"none",userSelect:"none"}},n.startsWith("ko")?"\uadf8\ub824\ubcf4\uc138\uc694":"draw")}},Ek2b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("tY8R"),a=n("qduK");function o(t,e,n){return{getConfig:function(n){if(!n||n===t)return e;throw void 0},getState:function(e){if(!e||e===t)return n;throw void 0},move:function(t){var a=i(n.prev,e.size),o=i(t,e.size);s(e.ctx,a,o),r.copyStylusState(n.prev,t)},up:function(t){var a=i(n.prev,e.size),o=i(t,e.size);return s(e.ctx,a,o),r.copyStylusState(n.prev,t),{}}}}function i(t,e){return{x:t.x,y:t.y,r:t.pressure*e*.5}}function s(t,e,n){var r=e.r>n.r,a=r?e:n,o=r?n:e,i=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));if(a.r>o.r+i)return c(t,a);a.r===o.r?function(t,e,n){c(t,e),c(t,n);var r=Math.atan2(n.y-e.y,n.x-e.x),a=r-u,o=r+u,i=Math.cos(a)*n.r,s=Math.sin(a)*n.r,l=Math.cos(o)*n.r,f=Math.sin(o)*n.r;t.beginPath(),t.moveTo(n.x+i,n.y+s),t.lineTo(e.x+i,e.y+s),t.lineTo(e.x+l,e.y+f),t.lineTo(n.x+l,n.y+f),t.closePath(),t.fill()}(t,a,o):function(t,e,n){c(t,e),c(t,n);var r=n.x-e.x||1e-9,a=n.y-e.y,o=e.r-n.r,i=o*o,s=r*r,u=r*r*r,l=a*a,f=(0===r?e.r:(a*Math.sqrt(i*s*(-i+s+l))+i*s)/(u+r*l))+e.x,p=(i*a-Math.sqrt(i*s*(-i+s+l)))/(s+l)+e.y,g=(0===r?-e.r:(-a*Math.sqrt(i*s*(-i+s+l))+i*s)/(u+r*l))+e.x,h=(i*a+Math.sqrt(i*s*(-i+s+l)))/(s+l)+e.y,b=Math.atan2(p-e.y,f-e.x),v=Math.atan2(h-e.y,g-e.x),y=Math.cos(b)*n.r,d=Math.sin(b)*n.r,O=Math.cos(v)*n.r,w=Math.sin(v)*n.r;t.beginPath(),t.moveTo(n.x+y,n.y+d),t.lineTo(f+y,p+d),t.lineTo(g+O,h+w),t.lineTo(n.x+O,n.y+w),t.closePath(),t.fill()}(t,a,o)}function c(t,e){t.beginPath(),t.moveTo(e.x+e.r,e.y),t.arc(e.x,e.y,e.r,0,2*Math.PI),t.closePath(),t.fill()}e.defaultBrushConfig=Object.freeze({ctx:a.dummyCanvasContext,color:"#000",size:10}),e.stroke={resume:function(t,n){return o(e.stroke,t,n)},down:function(t,n){var a={prev:r.cloneStylusState(n)},s=o(e.stroke,t,a);return n.pressure<=0?s:(c(t.ctx,i(n,t.size)),s)}};var u=Math.PI/2},Mp5o:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("ERkP");function a(){var t=Object(r.useState)(0)[1],e={cnt:0,fn:function(){return t(++e.cnt)}};return Object(r.useRef)(e).current.fn}},RZvK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("ERkP");function a(){var t=Object(r.useState)({width:0,height:0}),e=t[0],n=t[1];return Object(r.useEffect)((function(){var t=function(){return n({width:window.innerWidth,height:window.innerHeight})};t(),window.addEventListener("resize",t)}),[]),e}},hO0T:function(t,e,n){"use strict";var r=n("cxan"),a=n("zjfJ"),o=n("HbGN"),i=n("ERkP"),s=n.n(i).a.createElement;function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(a.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a=function(t){var e=t.brushSize,n=t.stylusStates,a=t.style,i=Object(o.a)(t,["brushSize","stylusStates","style"]),c=n.map((function(t){return t.x+","+t.y})).join(" ");return s("svg",Object(r.a)({},i,{style:u({},a,{overflow:"visible",pointerEvents:"none",userSelect:"none"})}),s("polyline",{points:c,fill:"none",stroke:"white",strokeWidth:8,strokeLinecap:"round"}),n.map((function(t,n){var r=t.x,a=t.y,o=t.pressure;return s("circle",{key:n,r:e*o*.5,cx:r,cy:a,fill:"none",stroke:"white",strokeWidth:8})})),s("polyline",{points:c,fill:"none",stroke:"red",strokeWidth:4,strokeLinecap:"round"}),n.map((function(t,n){var r=t.x,a=t.y,o=t.pressure;return s("circle",{key:n,r:e*o*.5,cx:r,cy:a,fill:"none",stroke:"red",strokeWidth:4})})))}},l3fO:function(t,e,n){"use strict";n.r(e);var r=n("zjfJ"),a=n("ERkP"),o=n.n(a),i=n("Ek2b"),s=n("1P4O"),c=n("tY8R"),u=n("hO0T"),l=n("9e28"),f=n("Y6Yo"),p=n("cxan"),g=n("yFcC"),h=n.n(g),b=o.a.createElement;function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var y=function(t){var e=t.className,n=t.config,r=t.data,a=t.setData,i=Object.keys(n);return b(o.a.Fragment,null,b("table",{className:"jsx-336569023 "+(e||"")},b("tbody",{className:"jsx-336569023"},i.map((function(t){var e=n[t],o=O[e.type];return b(o,Object(p.a)({key:t,field:t,data:r,setData:a},e,{className:"jsx-336569023 "+(e&&null!=e.className&&e.className||"")}))})))),b(h.a,{id:"336569023"},["table.jsx-336569023{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}"]))},d=function(t){var e=t.label,n=t.children;return b(o.a.Fragment,null,b("tr",{className:"jsx-1433268162"},b("th",{className:"jsx-1433268162"},b("label",{className:"jsx-1433268162"},e)),b("td",{className:"jsx-1433268162"},n)),b(h.a,{id:"1433268162"},["th.jsx-1433268162{text-align:left;}"]))},O={range:function(t){var e=t.label,n=t.field,a=t.data,o=t.setData,i=t.min,s=t.max,c=t.step;return b(d,{label:e},b("input",{type:"range",value:a[n],onChange:function(t){var e=+t.target.value;o((function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,Object(r.a)({},n,e))}))},min:i,max:s,step:c}),"\xa0",a[n])}},w=n("l9U3"),m=n("RZvK"),j=n("Mp5o"),x=o.a.createElement;function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var P=Object(s.getStroke)(i.stroke),k=(e.default=function(){var t=Object(a.useRef)(null);Object(w.a)(t);var e=Object(m.a)(),n=Object(a.useState)(),s=n[0],u=n[1],p=Object(a.useState)((function(){return{brushSize:20,tailCount:3,weight:.5}})),g=p[0],h=p[1];Object(a.useEffect)((function(){if(s){var t=setInterval(s.getState().update,10);return function(){return clearInterval(t)}}}),[s]);return Object(a.useEffect)((function(){if(s){var t=function(t){var e=Object(c.getStylusState)(t);s.move(e)},e=function(t){var e=Object(c.getStylusState)(t);s.up(e),u(void 0)};return window.addEventListener("pointermove",t),window.addEventListener("pointerup",e),function(){window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",e)}}}),[s]),x(o.a.Fragment,null,x("canvas",{ref:t,onPointerDown:function(e){var n=t.current.getContext("2d"),a=Object(c.getStylusState)(e.nativeEvent),o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},i.defaultBrushConfig,{ctx:n,size:g.brushSize}),s=P.down({tailCount:g.tailCount,weight:g.weight,catchUp:!0,targetConfig:o},a);u(s)},width:e.width,height:e.height,style:{position:"absolute",top:0,left:0,touchAction:"none"}}),x(k,{drawingPhase:s}),x(l.a,{drawing:!!s}),x(f.a,{bannerColor:"#000",octoColor:"#fff",href:"https://github.com/disjukr/croquis.js/blob/master/packages/website/src/pages/example/stabilizer-snake.tsx"}),x(y,{className:"data-controller",data:g,setData:h,config:{brushSize:{label:"Brush Size",type:"range",min:0,max:100,step:1},tailCount:{label:"Tail Count",type:"range",min:1,max:10,step:1},weight:{label:"Weight",type:"range",min:0,max:1,step:.01}}}))},function(t){var e=Object(j.a)();return Object(a.useEffect)((function(){var t=setInterval(e,10);return function(){clearInterval(t)}}),[]),t.drawingPhase?x(u.a,{brushSize:t.drawingPhase.getConfig(i.stroke).size,stylusStates:t.drawingPhase.getState().stylusStates,style:{position:"absolute",top:0,left:0}}):null})},l9U3:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("ERkP");function a(t){Object(r.useEffect)((function(){var e=setInterval((function(){var e=t.current;if(e){var n=e.getContext("2d");n.save(),n.globalCompositeOperation="destination-out",n.fillStyle="rgba(0, 0, 0, 0.05)",n.fillRect(0,0,e.width,e.height),n.restore()}}),50);return function(){return clearInterval(e)}}),[])}},qduK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){};e.dummyCanvasContext={canvas:{},direction:"ltr",fillStyle:"#000000",filter:"none",font:"10px sans-serif",globalAlpha:1,globalCompositeOperation:"source-over",imageSmoothingEnabled:!0,imageSmoothingQuality:"low",lineCap:"butt",lineDashOffset:0,lineJoin:"miter",lineWidth:1,miterLimit:10,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0)",shadowOffsetX:0,shadowOffsetY:0,strokeStyle:"#000000",textAlign:"start",textBaseline:"alphabetic",save:r,restore:r,scale:r,rotate:r,translate:r,transform:r,setTransform:r,getTransform:function(){return new DOMMatrix},resetTransform:r,createLinearGradient:function(){return{addColorStop:r}},createRadialGradient:function(){return{addColorStop:r}},createPattern:function(){return null},clearRect:r,fillRect:r,strokeRect:r,beginPath:r,fill:r,stroke:r,drawFocusIfNeeded:r,scrollPathIntoView:r,clip:r,isPointInPath:function(){return!1},isPointInStroke:function(){return!1},fillText:r,strokeText:r,measureText:function(){return{actualBoundingBoxAscent:0,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:0,alphabeticBaseline:0,emHeightAscent:0,emHeightDescent:0,fontBoundingBoxAscent:0,fontBoundingBoxDescent:0,hangingBaseline:0,ideographicBaseline:0,width:0}},drawImage:r,getImageData:function(){return new ImageData(1,1)},putImageData:r,createImageData:function(){return new ImageData(1,1)},setLineDash:r,getLineDash:function(){return[]},closePath:r,moveTo:r,lineTo:r,quadraticCurveTo:r,bezierCurveTo:r,arcTo:r,rect:r,arc:r,ellipse:r}}},[["3YkL",0,1,2]]]);