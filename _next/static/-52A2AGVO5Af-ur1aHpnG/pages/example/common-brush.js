(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"9tMu":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("tY8R"),a=Math.PI,s=a+a,i=.5*a,u=a/180,o=Math.min,l=Math.max,c=Math.abs,p=Math.sin,g=Math.cos,f=Math.sqrt,d=Math.atan2,y=function(){},v={restore:y,rotate:y,save:y,translate:y};function b(t,e){return t*e}function h(t){return t}function w(t,e,r){if(!(r.scale<=0)){var n=t.size*r.scale,a=b(n,t.aspectRatio),s=n,u=t.angleSpread&&t.angleSpread*(t.angleRandom()-.5),f=r.angle+(t.rotateToTangent?t.angle+e.tangent:t.angle)+u,d=t.normalSpread&&t.normalSpread*n*(t.normalRandom()-.5),y=t.tangentSpread&&t.tangentSpread*n*(t.tangentRandom()-.5),v=d||y,h=e.tangent+i,w=v&&g(h)*d+g(e.tangent)*y,m=v&&p(h)*d+p(e.tangent)*y,x=r.x+w,S=r.y+m,O=t.ctx;O.save(),O.translate(x,S),O.rotate(f),O.translate(-.5*a,-.5*s),t.draw(a,s),O.restore();var P=e.boundingRect,j=f?c(s*p(f))+c(a*g(f)):a,R=f?c(a*p(f))+c(s*g(f)):s,M=x-.5*j,Y=S-.5*R,X=o(P.x,M),_=o(P.y,Y),T=l(P.x+P.w,M+j),k=l(P.y+P.h,Y+R);e.boundingRect.x=X,e.boundingRect.y=_,e.boundingRect.w=T-X,e.boundingRect.h=k-_}}function m(t,e,r){return{getConfig:function(r){if(!r||r===t)return e;throw void 0},getState:function(e){if(!e||e===t)return r;throw void 0},move:function(t){try{var a=t.x-r.prev.x,s=t.y-r.prev.y;r.delta+=f(a*a+s*s);var i=r.prev.pressure,o=t.pressure,c=r.lastStamp,y=l(e.size*e.spacing*(.5*(i+o)),.5),v=t.x-c.x,b=t.y-c.y;if(r.tangent=d(b,v),r.reserved&&0!==v&&0!==b&&(w(e,r,r.lastStamp),r.reserved=!1),r.delta<y)return;if(c.angle=t.twist*u,c.scale=t.pressure,f(v*v+b*b)<y)return r.delta-=y,c.x=t.x,c.y=t.y,void w(e,r,c);for(var h=(o-i)*(y/r.delta),m=g(r.tangent),x=p(r.tangent);r.delta>=y;)c.x+=m*y,c.y+=x*y,c.scale+=h,r.delta-=y,w(e,r,c)}finally{n.copyStylusState(r.prev,t)}},up:function(t){var n=r.lastStamp;return r.tangent=d(t.y-n.y,t.x-n.x),r.reserved&&(w(e,r,r.lastStamp),r.reserved=!1),{boundingRect:r.boundingRect}}}}e.defaultBrushConfig=Object.freeze({ctx:v,draw:y,size:10,aspectRatio:1,spacing:.1,angle:0,rotateToTangent:!1,angleRandom:Math.random,angleSpread:0,normalRandom:Math.random,normalSpread:0,tangentRandom:Math.random,tangentSpread:0}),e.getDrawCircleFn=function(t,e,r){return function(n,a){var i=.5*n,u=.5*a;t.save(),t.fillStyle=e,t.globalAlpha=r,t.beginPath(),t.arc(i,u,i,0,s),t.closePath(),t.fill(),t.restore()}},e.getBrushWidth=b,e.getBrushHeight=h,e.stamp=w,e.stroke={resume:function(t,r){return m(e.stroke,t,r)},down:function(t,r){var a={tangent:0,delta:0,lastStamp:{x:r.x,y:r.y,scale:r.pressure,angle:r.twist*u},reserved:!1,boundingRect:{x:0,y:0,w:0,h:0},prev:n.cloneStylusState(r)},s=m(e.stroke,t,a);return r.pressure<=0?s:(t.rotateToTangent||t.normalSpread>0||t.tangentSpread>0?a.reserved=!0:w(t,a,a.lastStamp),s)}}},Km8e:function(t,e,r){"use strict";var n=Object.assign.bind(Object);t.exports=n,t.exports.default=t.exports},LTq3:function(t,e,r){"use strict";r.r(e);var n=r("zjfJ"),a=r("ERkP"),s=r.n(a),i=r("9tMu"),u=r("tY8R"),o=s.a.createElement;function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e.default=function(){var t=Object(a.useRef)(null),e=Object(a.useState)(i.defaultBrushConfig),r=e[0],n=e[1];return Object(a.useEffect)((function(){var e=t.current.getContext("2d");n(c({},r,{ctx:e,draw:Object(i.getDrawCircleFn)(e,"#000",1)}))}),[]),Object(a.useEffect)((function(){!function(t,e,r,n){var a=t.ctx;if(!a.clearRect)return;a.clearRect(0,0,e,r);var s=r>>1,o=e-2*n,l=s-n;a.clearRect(0,0,e,r);var c=Object(u.createStylusState)();c.x=n,c.y=s,c.pressure=0;for(var p=i.stroke.down(t,c),g=0;g<1;g+=.01)c.x=g*o+n,c.y=-Math.sin(2*Math.PI*g)*l+s,c.pressure=1-Math.abs(2*g-1),p.move(c);c.x=e-n,c.y=s,c.pressure=0,p.up(c)}(r,300,80,30)}),[r]),o(s.a.Fragment,null,o("canvas",{ref:t,width:300,height:80,style:{border:"1px solid black"}}),o("input",{type:"range",min:0,max:50,value:r.size,onChange:function(t){return n(c({},r,{size:+t.target.value}))}}),o("input",{type:"range",min:0,max:3,step:.01,value:r.spacing,onChange:function(t){return n(c({},r,{spacing:+t.target.value}))}}))}},dlHq:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/common-brush",function(){return r("LTq3")}])},tY8R:function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t};function s(){return{x:0,y:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0}}e.getStylusState=function(t,e){return void 0===e&&(e=a),n(n({},e({x:t.x,y:t.y})),{pressure:"mouse"===t.pointerType?1:t.pressure,tangentialPressure:t.tangentialPressure,tiltX:t.tiltX,tiltY:t.tiltY,twist:t.twist})},e.createStylusState=s;var i={x:0,y:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0};function u(t){return{x:t.x,y:t.y,pressure:t.pressure,tangentialPressure:t.tangentialPressure,tiltX:t.tiltX,tiltY:t.tiltY,twist:t.twist}}function o(t,e,r){return t+(e-t)*r}e.createStylusStates=function(t,e){return void 0===e&&(e=i),Array.from({length:t},(function(){return u(e)}))},e.cloneStylusState=u,e.copyStylusState=function(t,e){t.x=e.x,t.y=e.y,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist},e.interpolateStylusState=function(t,e,r){t.x=o(t.x,e.x,r),t.y=o(t.y,e.y,r),t.pressure=o(t.pressure,e.pressure,r),t.tangentialPressure=o(t.tangentialPressure,e.tangentialPressure,r),t.tiltX=o(t.tiltX,e.tiltX,r),t.tiltY=o(t.tiltY,e.tiltY,r),t.twist=function(t,e,r){return t+(((e-t)%360+540)%360-180)*r%360}(t.twist,e.twist,r)}},zjfJ:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))}},[["dlHq",0,1]]]);