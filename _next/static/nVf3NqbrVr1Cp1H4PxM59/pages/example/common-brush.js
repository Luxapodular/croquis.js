(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"9tMu":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("tY8R"),a=Math.PI,i=a+a,o=.5*a,u=a/180,s=Math.min,l=Math.max,c=Math.abs,f=Math.sin,p=Math.cos,g=Math.sqrt,d=Math.atan2,y=function(){},b={restore:y,rotate:y,save:y,translate:y,globalAlpha:1};function v(t,e){return t*e}function h(t){return t}function m(t,e,r){if(!(r.scale<=0)){var n=t.size*r.scale,a=v(n,t.aspectRatio),i=n,u=t.angleSpread&&t.angleSpread*(t.angleRandom()-.5),g=r.angle+(t.rotateToTangent?t.angle+e.tangent:t.angle)+u,d=t.normalSpread&&t.normalSpread*n*(t.normalRandom()-.5),y=t.tangentSpread&&t.tangentSpread*n*(t.tangentRandom()-.5),b=d||y,h=e.tangent+o,m=b&&p(h)*d+p(e.tangent)*y,S=b&&f(h)*d+f(e.tangent)*y,w=r.x+m,x=r.y+S,O=t.ctx;O.save(),O.translate(w,x),O.rotate(g),O.translate(-.5*a,-.5*i),O.globalAlpha=r.alpha,t.draw(a,i),O.restore();var j=e.boundingRect,P=g?c(i*f(g))+c(a*p(g)):a,R=g?c(a*f(g))+c(i*p(g)):i,M=w-.5*P,C=x-.5*R,Y=s(j.x,M),X=s(j.y,C),T=l(j.x+j.w,M+P),_=l(j.y+j.h,C+R);e.boundingRect.x=Y,e.boundingRect.y=X,e.boundingRect.w=T-Y,e.boundingRect.h=_-X}}function S(t,e,r){return{getConfig:function(r){if(!r||r===t)return e;throw void 0},getState:function(e){if(!e||e===t)return r;throw void 0},move:function(t){try{var a=t.x-r.prev.x,i=t.y-r.prev.y;r.delta+=g(a*a+i*i);var o=r.prev.pressure,s=t.pressure,c=r.lastStamp,y=l(e.size*e.spacing*(.5*(o+s)),.5),b=t.x-c.x,v=t.y-c.y;if(r.tangent=d(v,b),r.reserved&&0!==b&&0!==v&&(m(e,r,r.lastStamp),r.reserved=!1),r.delta<y)return;if(c.angle=t.twist*u,c.scale=t.pressure,g(b*b+v*v)<y)return r.delta-=y,c.x=t.x,c.y=t.y,void m(e,r,c);for(var h=(s-o)*(y/r.delta),S=p(r.tangent),w=f(r.tangent);r.delta>=y;)c.x+=S*y,c.y+=w*y,c.scale+=h,r.delta-=y,m(e,r,c)}finally{n.copyStylusState(r.prev,t)}},up:function(t){var n=r.lastStamp;return r.tangent=d(t.y-n.y,t.x-n.x),r.reserved&&(m(e,r,r.lastStamp),r.reserved=!1),{boundingRect:r.boundingRect}}}}e.defaultBrushConfig=Object.freeze({ctx:b,draw:y,flow:1,size:10,aspectRatio:1,spacing:.1,angle:0,rotateToTangent:!1,angleRandom:Math.random,angleSpread:0,normalRandom:Math.random,normalSpread:0,tangentRandom:Math.random,tangentSpread:0}),e.getDrawCircleFn=function(t,e){return function(r,n){var a=.5*r,o=.5*n;t.save(),t.fillStyle=e,t.beginPath(),t.arc(a,o,a,0,i),t.closePath(),t.fill(),t.restore()}},e.getBrushWidth=v,e.getBrushHeight=h,e.stamp=m,e.stroke={resume:function(t,r){return S(e.stroke,t,r)},down:function(t,r){var a={tangent:0,delta:0,lastStamp:{x:r.x,y:r.y,scale:r.pressure,angle:r.twist*u,alpha:t.flow},reserved:!1,boundingRect:{x:0,y:0,w:0,h:0},prev:n.cloneStylusState(r)},i=S(e.stroke,t,a);return r.pressure<=0?i:(t.rotateToTangent||t.normalSpread>0||t.tangentSpread>0?a.reserved=!0:m(t,a,a.lastStamp),i)}}},HbGN:function(t,e,r){"use strict";function n(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}r.d(e,"a",(function(){return n}))},Km8e:function(t,e,r){"use strict";var n=Object.assign.bind(Object);t.exports=n,t.exports.default=t.exports},LTq3:function(t,e,r){"use strict";r.r(e);var n=r("cxan"),a=r("zjfJ");function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o=r("HbGN"),u=r("ERkP"),s=r.n(u),l=r("9tMu"),c=r("tY8R"),f=s.a.createElement;function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){Object(a.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e.default=function(){var t=Object(u.useState)(l.defaultBrushConfig);return Object(u.useEffect)((function(){document.body.style.backgroundColor="#535353"}),[]),f(s.a.Fragment,null,f(y,{brushConfigState:t}),f(d,{brushConfigState:t,min:0,max:50,field:"size"},"Size"),f(d,{brushConfigState:t,min:0,max:1,step:.01,field:"flow"},"Flow"),f(d,{brushConfigState:t,min:0,max:3,step:.01,field:"spacing"},"Spacing"))};var d=function(t){var e=t.children,r=t.brushConfigState,u=t.field,s=Object(o.a)(t,["children","brushConfigState","field"]),l=i(r,2),c=l[0],p=l[1];return f("label",null,f("p",{style:{margin:0,marginBottom:"6px",color:"#fff",fontSize:"12px"}},e),f("input",Object(n.a)({type:"range"},s,{value:c[u],onChange:function(t){return p(g({},c,Object(a.a)({},u,+t.target.value)))}})))},y=function(t){var e=t.brushConfigState,r=t.style,n=i(e,2),a=n[0],o=n[1],s=Object(u.useRef)(null);return Object(u.useEffect)((function(){var t=s.current.getContext("2d");o(g({},a,{ctx:t,draw:Object(l.getDrawCircleFn)(t,"#fff")}))}),[]),Object(u.useEffect)((function(){!function(t,e,r,n){var a=t.ctx;if(!a.clearRect)return;a.clearRect(0,0,e,r);var i=r>>1,o=e-2*n,u=i-n;a.clearRect(0,0,e,r);var s=Object(c.createStylusState)();s.x=n,s.y=i,s.pressure=0;for(var f=l.stroke.down(t,s),p=0;p<1;p+=.01)s.x=p*o+n,s.y=-Math.sin(2*Math.PI*p)*u+i,s.pressure=1-Math.abs(2*p-1),f.move(s);s.x=e-n,s.y=i,s.pressure=0,f.up(s)}(a,300,80,30)}),[a]),f("canvas",{ref:s,width:300,height:80,style:g({backgroundColor:"#4e4e4e",border:"solid 1px #383838",borderBottom:"solid 1px #707070"},r)})}},cxan:function(t,e,r){"use strict";function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}r.d(e,"a",(function(){return n}))},dlHq:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/common-brush",function(){return r("LTq3")}])},tY8R:function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t};function i(){return{x:0,y:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0}}e.getStylusState=function(t,e){return void 0===e&&(e=a),n(n({},e({x:t.x,y:t.y})),{pressure:"mouse"===t.pointerType?1:t.pressure,tangentialPressure:t.tangentialPressure,tiltX:t.tiltX,tiltY:t.tiltY,twist:t.twist})},e.createStylusState=i;var o={x:0,y:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0};function u(t){return{x:t.x,y:t.y,pressure:t.pressure,tangentialPressure:t.tangentialPressure,tiltX:t.tiltX,tiltY:t.tiltY,twist:t.twist}}function s(t,e,r){return t+(e-t)*r}e.createStylusStates=function(t,e){return void 0===e&&(e=o),Array.from({length:t},(function(){return u(e)}))},e.cloneStylusState=u,e.copyStylusState=function(t,e){t.x=e.x,t.y=e.y,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist},e.interpolateStylusState=function(t,e,r){t.x=s(t.x,e.x,r),t.y=s(t.y,e.y,r),t.pressure=s(t.pressure,e.pressure,r),t.tangentialPressure=s(t.tangentialPressure,e.tangentialPressure,r),t.tiltX=s(t.tiltX,e.tiltX,r),t.tiltY=s(t.tiltY,e.tiltY,r),t.twist=function(t,e,r){return t+(((e-t)%360+540)%360-180)*r%360}(t.twist,e.twist,r)}},zjfJ:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))}},[["dlHq",0,1]]]);